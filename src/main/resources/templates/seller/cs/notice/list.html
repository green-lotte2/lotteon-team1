<html xmlns:th="http://www.thymeleaf.org"
    xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
    layout:decorate="~{/layout/sellerLayout.html}">

<!--내용 시작-->
    <section id="admin-cs-list" layout:fragment="content">
        <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
        <script type="text/javascript">
            // // 카테고리별 조회
            function redirectToCategory() {
                const button = event.target; // 현재 선택한 버튼 -> select
                const buttonValue = button.value; // 현재 선택한 버튼의 value

                console.log("buttonValue : " + buttonValue)

                location.href = "/lotteon/seller/cs/notice/list?noticeCate=" + buttonValue;
            }
        </script>
        <nav>
            <h3>공지사항 목록</h3>
            <p>
                HOME > 고객센터 > <strong>공지사항</strong>
            </p>
        </nav>
        <!-- 상품목록 컨텐츠 시작 -->
        <section class="sectionBox">
            <div>
                <select name="search" onchange="redirectToCategory()">
                    <option value="choice">유형선택</option>
                    <option value="service">고객서비스</option>
                    <option value="event">이벤트당첨</option>
                    <option value="safe">안전거래</option>
                    <option value="danger">위해상품</option>
                </select>
            </div>
            <table class="notice">
                <tr>
                    <th></th>
                    <th>번호</th>
                    <th>유형</th>
                    <th>제목</th>
                    <th>조회</th>
                    <th>날짜</th>
                </tr>

                <tr th:each="notice,index : ${noticeList.dtoList}">
                    <td style="width: 1px;"></td>
                    <td th:text="${noticeList.startNo - index.index}"></td>
                    <td th:if="${notice.noticeCate}=='choice'" style="white-space: nowrap;">[유형선택]</td>
                    <td th:if="${notice.noticeCate}=='service'" style="white-space: nowrap;">[고객서비스]</td>
                    <td th:if="${notice.noticeCate}=='event'" style="white-space: nowrap;">[이벤트당첨]</td>
                    <td th:if="${notice.noticeCate}=='safe'" style="white-space: nowrap;">[안전거래]</td>
                    <td th:if="${notice.noticeCate}=='danger'" style="white-space: nowrap;">[위해상품]</td>
                    <td style="text-align: left">
                        <span>
                            <a th:href="@{/seller/cs/notice/view(noticeNo=${notice.noticeNo})}">
                                <span th:if="${notice.noticeType == 'guide'}" style="white-space: nowrap;"><span th:text="'[안내]'+ ' ' + ${notice.noticeTitle}"></span></span>
                                <span th:if="${notice.noticeType == 'announce'}" style="white-space: nowrap;"><span th:text="'[발표]' + ' ' + ${notice.noticeTitle}"></span></span>
                                <span th:if="${notice.noticeType == 'prodinfo'}" style="white-space: nowrap;"><span th:text="'[위해상품정보]'+ ' ' + ${notice.noticeTitle}"></span></span>
                                <span th:if="${notice.noticeType == 'uservice'}" style="white-space: nowrap;"><span th:text="'[고객서비스]'+ ' ' + ${notice.noticeTitle}"></span></span>
                            </a>
                        </span>
                    </td>
                    <td th:text="${notice.noticeHit}"></td>
                    <td th:if="${notice.noticeDate != null}" th:text="${#temporals.format(notice.noticeDate, 'yyyy-MM-dd')}" style="white-space: nowrap;" ></td>
                </tr>
            </table>

            <div class="pagingBox">
                <div class="pagingList">
                    <a th:if="${noticeList.prev && noticeCate == null}" th:href="@{/seller/cs/notice/list(pg=${noticeList.start - 1})}">이전</a>
                    <a th:if="${noticeList.prev && noticeCate != null}" th:href="@{/seller/cs/notice/list(pg=${noticeList.start - 1}, noticeCate=${noticeCate})}">이전</a>

                    <th:block th:each="num:${#numbers.sequence(noticeList.start, noticeList.end)}">
                        <a class="pageNum" th:if="${noticeCate == null}" th:href="@{/seller/cs/notice/list(pg=${num})}" th:class="${num == noticeList.pg} ? 'on' : ''">[[${num}]]</a>
                        <a class="pageNum" th:if="${noticeCate != null}" th:href="@{/seller/cs/notice/list(pg=${num}, noticeCate=${noticeCate})}" th:class="${num == 1} ? 'on' : ''">[[${num}]]</a>
                    </th:block>

                    <a th:if="${noticeList.next && noticeCate == null}" th:href="@{/seller/cs/notice/list(pg=${noticeList.end + 1})}">다음</a>
                    <a th:if="${noticeList.next && noticeCate != null}" th:href="@{/seller/cs/notice/list(pg=${noticeList.end + 1}, noticeCate=${noticeCate})}">다음</a>
                </div>
            </div>

        </section>
        <!-- 상품목록 컨텐츠 끝 -->
    </section>
<!--내용 끝-->
</html>