<html xmlns:th="http://www.thymeleaf.org"
    xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
    layout:decorate="~{/layout/sellerLayout.html}">
<!--내용 시작-->
    <section id="admin-product-list" layout:fragment="content">

        <script>
            window.onload = function (){
                // 그래프
                new Chart(document.getElementById("pie-chart1"), {
                    type: 'pie',
                    data: {
                        labels: ["최신주문", "일주일주문", "전체주문 "],
                        datasets: [{
                            label: "Population (millions)",
                            backgroundColor: ["#3e95cd", "#8e5ea2","#3cba9f"],
                            data: [2478,5267,734]
                        }]
                    },
                    options: {
                        responsive: false,
                        title: {
                            display: true,
                            text: '주문현황'
                        }
                    }
                });
                new Chart(document.getElementById("pie-chart2"), {
                    type: 'pie',
                    data: {
                        labels: ["입금대기", "배송준비", "배송중", "배송완료"],
                        datasets: [{
                            label: "Population (millions)",
                            backgroundColor: ["#3e95cd", "#8e5ea2","#3cba9f","#e8c3b9"],
                            data: [2478,5267,734,784]
                        }]
                    },
                    options: {
                        responsive: false,
                        title: {
                            display: true,
                            text: '배송현황 '
                        }
                    }
                });
                new Chart(document.getElementById("pie-chart3"), {
                    type: 'pie',
                    data: {
                        labels: ["취소요청", "교환요청", "환불요청"],
                        datasets: [{
                            label: "Population (millions)",
                            backgroundColor: ["#3e95cd", "#8e5ea2","#3cba9f"],
                            data: [2478,5267,734]
                        }]
                    },
                    options: {
                        responsive: false,
                        title: {
                            display: true,
                            text: 'CS현황'
                        }
                    }
                });
            }

            // 필터 드롭박스
            function createDetailInfo() {
                const click = event.target;
                const orderInfo = click.parentNode;
                const orderListBody = orderInfo.parentNode;
                const detailInfo = orderListBody.querySelector('.detailInfo');
                console.log(detailInfo)
                if (detailInfo != null) {
                    orderInfo.style.backgroundColor = "#fafafa";
                    detailInfo.remove();
                    click.innerText = "자세히"
                }else {
                    orderInfo.style.backgroundColor = "#ececec";
                    createDetailInfoTag(orderListBody);
                    click.innerText = "접기"
                }
            }

            function createDetailInfoTag(orderListBody) {
                const newTag = `<div class="detailInfo">
                                    <div class="detailInfoRow">
                                        <div>구매자</div>
                                        <div>홍길동</div>
                                        <div>연락처</div>
                                        <div>010-0000-0000</div>
                                    </div>
                                    <div class="detailInfoRow">
                                        <div>결제금액</div>
                                        <div>50,000</div>
                                        <div>사용포인트</div>
                                        <div>5,000</div>
                                    </div>
                                    <div class="detailInfoRow">
                                        <div>결제수단</div>
                                        <div>신용카드</div>
                                        <div>주문상태</div>
                                        <div>결제완료</div>
                                    </div>
                                    <div class="detailInfoAddr">
                                        <div>배송주소</div>
                                        <div>부산시 부산진구 새싹로 30 경동파크타워</div>
                                    </div>
                                </div>`
                orderListBody.insertAdjacentHTML('beforeend', newTag);
            }

            function filterDrop() {
                const button = event.target;
                const filterList = button.nextElementSibling;
                if (filterList.style.display === "block"){
                    filterList.style.display = "none";
                }else {
                    filterList.style.display = "block";
                }
            }
        </script>

        <nav>
            <h3>배송관리</h3>
            <p>
                HOME > 주문관리 > <strong>배송관리</strong>
            </p>
        </nav>
        <!-- 상품목록 컨텐츠 시작 -->
        <section>

            <div class="orderListInfo">
                <div class="orderListChart">
                    <canvas id="pie-chart1" width="250" height="250"></canvas>
                    <canvas id="pie-chart2" width="250" height="250"></canvas>
                    <canvas id="pie-chart3" width="250" height="250"></canvas>
                </div>
                <div>
                    주문현황 / 최신주문, 일주일주문, 전체주문
                    배송현황 / 입금대기, 배송준비, 배송중, 배송완료
                    CS현황 / 취소요청,교환요청,환불요청
                </div>
            </div>

            <div class="orderListTable">
                <div class="filterBox">
                    <span onclick="filterDrop()">정렬 ∨</span>
                    <ul class="filterList">
                        <li><a href="#">입금대기</a></li>
                        <li><a href="#">배송준비</a></li>
                        <li><a href="#">배송중</a></li>
                        <li><a href="#">배송완료</a></li>
                        <li><a href="#">취소요청</a></li>
                        <li><a href="#">교환요청</a></li>
                        <li><a href="#">환불요청</a></li>
                    </ul>
                </div>
                <div class="orderListHead">
                    <div>구분</div>
                    <div>주문 번호</div>
                    <div>상품 이름</div>
                    <div>수량</div>
                    <div>주문 상태</div>
                    <div>구매 날짜</div>
                    <div></div>
                </div>
                <div class="orderListBody">
                    <div class="orderInfo">
                        <div>1</div>
                        <div>12345</div>
                        <div>바나나</div>
                        <div>2</div>
                        <div>배송 준비중</div>
                        <div>2024.02.02</div>
                        <div onclick="createDetailInfo()">자세히</div>
                    </div>
                </div>
                <div class="orderListBody">
                    <div class="orderInfo">
                        <div>1</div>
                        <div>12345</div>
                        <div>바나나</div>
                        <div>2</div>
                        <div>배송 준비중</div>
                        <div>2024.02.02</div>
                        <div>자세히</div>
                    </div>
                </div>

            </div>


            <div class="pagingBox">
                <div class="pagingList">
                    <a href="#" class="pagePrev">이전</a>
                    <a href="#" class="pageNum">1</a>
                    <a href="#" class="pageNum">2</a>
                    <a href="#" class="pageNum">3</a>
                    <a href="#" class="pageNext">다음</a>
                </div>
            </div>

        </section>
        <!-- 상품목록 컨텐츠 끝 -->
    </section>
<!--내용 끝-->
</html>