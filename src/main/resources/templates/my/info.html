<html xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorate="~{/layout/myLayout.html}">
<!--내용 시작-->
<div id="my" layout:fragment="content">
    <!---->
    <script th:src="@{/js/my/myScript.js}"></script>
    <script src="//t1.daumcdn.net/mapjsapi/bundle/postcode/prod/postcode.v2.js"></script>
    <!---->
    <nav>
        <div>
            <a href="./home.html"><img th:src="@{/images/my/my_logo.jpg}" alt="나의쇼핑정보"></a>
            <ol>
                <li><a href="#">주문·배송<span class="delivery">1</span></a></li>
                <li><a href="#">할인쿠폰<span class="coupon">1</span></a></li>
                <li><a href="#">포인트<span class="point">1,000</span></a></li>
                <li><a href="#">문의내역<span class="qna">1</span></a></li>
            </ol>
        </div>
    </nav>

    <div class="info">
        <ul>
            <span class="menu_else"></span>
            <li><a th:href="@{/my/order(userId=${#authentication.principal.user.userId})}">전체주문내역</a></li>
            <!--<li><a href="./favorite.html">관심상품</a></li>-->
            <li><a th:href="@{/my/point(userId=${#authentication.principal.user.userId})}">포인트내역</a></li>
            <li><a th:href="@{/my/coupon(userId=${#authentication.principal.user.userId})}">쿠폰</a></li>
            <li><a th:href="@{/my/review(userId=${#authentication.principal.user.userId})}">나의리뷰</a></li>
            <li><a th:href="@{/my/qna(userId=${#authentication.principal.user.userId})}">문의하기</a></li>
            <li><a th:href="@{/my/info(userId=${#authentication.principal.user.userId})}">나의설정</a></li>
            <!--회원가입구현되면 위에 파라미터 바꾸기-->
        </ul>

        <section>
            <a href="#"><img th:src="@{/images/my/my_banner2.png}" alt="패션, 타운 하나로 끝" class="banner"></a>
            <article>
                <h3>회원정보 설정</h3>

                <table border="0">
                    <tr>
                        <td>사용자 ID</td>
                        <td id="userId" th:text="${userDTO.userId}"></td>
                        <td id="userRole" hidden th:text="${userDTO.userRole}"></td>
                    </tr>
                    <tr>
                        <td>비밀번호</td>
                        <td>
                            <input type="text" name="userPw" id="changePw" style="display: none">
                            <button class="change" id="btnChangePass">비밀번호 수정</button>
                            <span id="resultPw" class="resultText"></span>
                            <p class="resultPw"></p>
                        </td>
                    </tr>
                    <tr>
                        <td>이름</td>
                        <td th:text="${userDTO.userName}"></td>
                    </tr>
                    <tr>
                        <td>생년월일</td>
                        <td th:text="${#temporals.format(userDTO.userBirth,'yyyy-MM-dd')}"></td>
                    </tr>
                    <tr>
                        <td>E-mail</td>
                        <td>
                            <input type="text" name="email1" th:value="${#strings.setSplit(userDTO.userEmail,'@')[0]}" style="text-align: center" readonly>@
                            <input type="text" name="email2" th:value="${#strings.setSplit(userDTO.userEmail,'@')[1]}" style="text-align: center" readonly>
                            <button class="change" id="btnChangeEmail">수정하기</button>

                            <div id="emailCodeSection" style="display: none;">
                                <input type="text" id="inputEmailCode" name="inputEmailCode" placeholder="인증코드 입력" required style="display: inline-block"/>
                                <span id="resultEmail" class="resultText"></span>
                                <button id="checkEmailCode">인증코드확인</button>
                                <span id="resultEmailCode" class="resultText"></span>
                            </div>
                        </td>
                    </tr>
                    <tr>
                        <td>휴대폰</td>
                        <td>
                            <p class="hp">
                                <input type="text" name="hp1" th:value="${#strings.substring(userDTO.userHp,0,3)}" style="text-align: center" readonly maxlength="3"/>-
                                <input type="text" name="hp2" th:value="${#strings.substring(userDTO.userHp,4,8)}" style="text-align: center" readonly maxlength="4"/>-
                                <input type="text" name="hp3" th:value="${#strings.substring(userDTO.userHp,9,13)}" style="text-align: center" readonly maxlength="4"/>
                                <button class="change" id="btnChangeHp">수정하기</button>
                            </p>
                        </td>
                    </tr>

                    <tr>
                        <td>주소</td>
                        <td>
                            <input type="text" name="userZip" id="userZip" th:value="${userDTO.userZip}" style="border: 0" readonly/>
                            <p class="address">
                                <input type="text" name="userAddr1" id="userAddr1" th:value="${userDTO.userAddr1}" style="border: 0" readonly/>
                                <input type="text" name="userAddr2" id="userAddr2" th:value="${userDTO.userAddr2}" style="border: 0" readonly/>
                            </p>
                            <button id="changeAddr" style="margin-top: 5px">수정하기</button>
                            <button id="doneChangeAddr" style="margin-top: 5px; display: none;">수정완료</button>
                            <button id="btnZip" style="display: none; margin-top: 5px">주소검색</button>
                        </td>
                    </tr>
                    <tr>
                        <td>회원탈퇴</td>
                        <td>
                            <button id="btnWithdraw">탈퇴하기</button>
                        </td>
                    </tr>
                </table>
            </article>
        </section>

    </div>
</div>
<!--내용 끝-->
</html>